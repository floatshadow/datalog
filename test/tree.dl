
S(X1, X3) :- T(X1, X2), R(X2, Y, X3).
T(X1, X4) :- R(X1, Y, X2), R(X2, Z, X3), T(X3, X4).
T(X1, X3) :- R(X1, A, X2), R(X2, A, X3).


R("1", "a", "2").
R("2", "b", "3").
R("3", "a", "4").
R("4", "a", "5").
R("5", "a", "6").